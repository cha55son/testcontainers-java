import groovy.json.JsonOutput

// Emit a JSON-formatted list of check tasks to be run in CI
task taskMatrix {
    doLast {
        def allCheckTasks = project
            .getTasksByName("check", true)
            .findAll { it.enabled }
            .collect { it.path }

        println JsonOutput.toJson(allCheckTasks)
    }
}
